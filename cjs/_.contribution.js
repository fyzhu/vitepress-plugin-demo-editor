"use strict";var l=Object.defineProperty;var c=(e,a,r)=>a in e?l(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r;var o=(e,a,r)=>(c(e,typeof a!="symbol"?a+"":a,r),r);var d=require("./editor.api.js");/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.33.0(4b1abad427e58dbedc1215d99a0902ffc885fcd4)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var u=Object.defineProperty,y=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,p=(e,a,r,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of L(a))!P.call(e,i)&&(r||i!=="default")&&u(e,i,{get:()=>a[i],enumerable:!(t=y(a,i))||t.enumerable});return e},s={};p(s,d.monaco_editor_core_star);var g={},n={},_=class{constructor(e){o(this,"_languageId");o(this,"_loadingTriggered");o(this,"_lazyLoadPromise");o(this,"_lazyLoadPromiseResolve");o(this,"_lazyLoadPromiseReject");this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((a,r)=>{this._lazyLoadPromiseResolve=a,this._lazyLoadPromiseReject=r})}static getOrCreate(e){return n[e]||(n[e]=new _(e)),n[e]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,g[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}};function f(e){const a=e.id;g[a]=e,s.languages.register(e);const r=_.getOrCreate(a);s.languages.registerTokensProviderFactory(a,{create:async()=>(await r.load()).language}),s.languages.onLanguage(a,async()=>{const t=await r.load();s.languages.setLanguageConfiguration(a,t.conf)})}exports.registerLanguage=f;
